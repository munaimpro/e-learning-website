import{u as f,j as l,be as m}from"./main-601.js";function b(o,a={},i=[]){const r={form_fields:[]},u=Object.keys(a),n={form_fields:[]},p=[];u.forEach(e=>{const s=a[e].lg.map(t=>t.i);o.forEach(t=>{if(t.key===e){if(!i.includes(t.typ)){let c="";t.typ==="repeater"?c=`${t.lbl}_(Repeater)`:t.typ==="section"&&(c=`${t.lbl}_(Section)`),n[c]||(n[c]={flds:[],key:e}),n[c].flds=s}p.push(...s)}})});const y=Object.keys(n);return o.forEach(e=>{y.forEach(s=>{const t=n[s].flds,c=n[s].key;t&&t.includes(e.key)&&(r[s]||(r[s]=[]),e.newKey=`${c}.${e.key}`,r[s].push(e))}),!p.includes(e.key)&&!i.includes(e.typ)&&r.form_fields.push(e)}),r}function j({formFields:o,notAllowFieldType:a=[],shortCode:i=!1}){const r=f(m),u=b(o,r,a),n=Object.keys(u),p=e=>(e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," "),y=e=>{const s=e.newKey?e.newKey:e.key;return i?`\${${s}}`:s};return n.map(e=>l.jsx("optgroup",{label:p(e),children:u[e].map(s=>l.jsx("option",{value:y(s),children:s.name},`ff-zhcrm-${s.key}`))},`fld-lbl-${e}`))}export{j as B};
