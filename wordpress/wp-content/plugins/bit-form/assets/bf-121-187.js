import{v as je,w as be,h as ue,u as ve,a as Ne,j as e,dr as fe,N as we,b as j,_ as s,D as ke,z as de,B as Fe,g,F as ye,G as Ce,ay as Te,aY as ze}from"./main-601.js";import{B as $e}from"./bf-409-72.js";import{C as c}from"./bf-952-83.js";import{T as Pe}from"./bf-548-69.js";function We(){var N,f,w,k,F,y,C,T,z,$,P,S,B,O,Y,I,W,D,L,A,M,U,X,_,H,E,R,G,J,V,q,K,Q,Z,ee,te,ae,se,ie,le,ne,re,me,ce;const{formType:b,formID:d,id:m}=je(),oe=be(),[x,h]=ue(Te),he=ve(ze),{css:n}=Ne(),a=x[m],u=()=>{const t=g(x,l=>{l.push({updateTem:1})});h(t),oe(`/form/settings/${b}/${d}/pdf-templates`)},pe=t=>{h(l=>g(l,r=>{t.target.checked?r[m].setting.override=!0:r[m].setting.override=!1}))},i=(t,l)=>{let r=l;h(p=>g(p,xe=>{t==="setting->font"&&(r=ye(r)),Ce(xe[m],t,r)}))},v=(t,l)=>{h(r=>g(r,p=>{t.target.checked?p[m].setting.watermark.active=l:delete p[m].setting.watermark.active}))},ge=()=>{if(typeof wp!="undefined"&&wp.media){const t=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});t.on("select",()=>{const{url:l}=t.state().get("selection").first().toJSON();i("setting->watermark->img->src",l)}),t.open()}};return x.length<1?e.jsx(fe,{to:`/form/settings/edit/${d}/pdf-templates`,replace:!0}):e.jsxs("div",{style:{width:900},children:[e.jsxs(we,{to:`/form/settings/${b}/${d}/pdf-templates`,className:`${n(j.btn)} btcd-btn-o-gray`,children:[e.jsx($e,{className:"mr-1"}),s("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${n(j.btn)} blue f-right`,type:"button",children:s("Update Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsx("b",{className:"w-2",children:s("Template Name:")}),e.jsx("input",{onChange:t=>i(t.target.name,t.target.value),type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:a.title,name:"title"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{children:e.jsx("b",{children:s("Body:")})}),e.jsx("label",{htmlFor:`t-m-e-${m}-${d}`,className:"mt-2 w-10",children:e.jsx(Pe,{id:`mail-tem-${d}`,formFields:he,value:a.body,onChangeHandler:t=>i("body",t),width:"100%",mapAllFieldWithTable:!0,mapAllField:!0})})]}),e.jsx("div",{className:n(o.checkbox),children:e.jsx(c,{onChange:t=>pe(t),checked:(N=a.setting)==null?void 0:N.override,title:"Override global PDF setting"})}),((f=a.setting)==null?void 0:f.override)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:t=>i("setting->paperSize",t.target.value),value:(w=a.setting)==null?void 0:w.paperSize,className:"btcd-paper-inp mt-1",children:ke.map((t,l)=>e.jsx("option",{value:t.value,children:t.label},`${l}-${t.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:t=>i("setting->orientation",t.target.value),value:(k=a.setting)==null?void 0:k.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:t=>i("setting->font",t.target.value),value:(F=a.setting)==null?void 0:F.font.name,className:"btcd-paper-inp mt-1",children:Object.keys(de).map(t=>e.jsx("optgroup",{label:t,children:de[t].map((l,r)=>e.jsx("option",{value:l.name,children:l.name},`${r}-${l.name}`))},t))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:t=>i("setting->fontSize",t.target.value),value:(y=a.setting)==null?void 0:y.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"pdfFileName",children:[e.jsx("b",{children:s("PDF File Name")}),e.jsx("input",{id:"pdfFileName",name:"pdfFileName",onChange:t=>i("setting->pdfFileName",t.target.value),value:(C=a.setting)==null?void 0:C.pdfFileName,className:"btcd-paper-inp mt-1",placeholder:"PDF File Name",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(c,{name:"active",onChange:t=>v(t,"txt"),checked:((z=(T=a.setting)==null?void 0:T.watermark)==null?void 0:z.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Text"})})}),e.jsx(c,{name:"active",onChange:t=>v(t,"img"),checked:((P=($=a.setting)==null?void 0:$.watermark)==null?void 0:P.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Image"})})})]})}),((B=(S=a.setting)==null?void 0:S.watermark)==null?void 0:B.active)&&e.jsxs("div",{className:n(o.bdr),children:[((O=a.setting)==null?void 0:O.watermark.active)==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:t=>i("setting->watermark->txt",t.target.value),value:(I=(Y=a.setting)==null?void 0:Y.watermark)==null?void 0:I.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),((W=a.setting)==null?void 0:W.watermark.active)==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:n({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(Fe,{className:"ml-2",onClick:ge,children:"Upload"}),((A=(L=(D=a.setting)==null?void 0:D.watermark)==null?void 0:L.img)==null?void 0:A.src)&&e.jsx("img",{className:n(o.img),src:(X=(U=(M=a.setting)==null?void 0:M.watermark)==null?void 0:U.img)==null?void 0:X.src,alt:""})]})}),e.jsxs("div",{className:n(o.size),children:[e.jsxs("label",{htmlFor:"width",className:n({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:t=>i("setting->watermark->img->width",t.target.value),value:(E=(H=(_=a.setting)==null?void 0:_.watermark)==null?void 0:H.img)==null?void 0:E.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:n({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:t=>i("setting->watermark->img->height",t.target.value),value:(J=(G=(R=a.setting)==null?void 0:R.watermark)==null?void 0:G.img)==null?void 0:J.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:n(o.size),children:[e.jsxs("label",{htmlFor:"posX",className:n({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:t=>i("setting->watermark->img->posX",t.target.value),value:(K=(q=(V=a.setting)==null?void 0:V.watermark)==null?void 0:q.img)==null?void 0:K.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:n({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:t=>i("setting->watermark->img->posY",t.target.value),value:(ee=(Z=(Q=a.setting)==null?void 0:Q.watermark)==null?void 0:Z.img)==null?void 0:ee.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((se=(ae=(te=a.setting)==null?void 0:te.watermark)==null?void 0:ae.img)==null?void 0:se.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"true"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((ne=(le=(ie=a.setting)==null?void 0:ie.watermark)==null?void 0:le.img)==null?void 0:ne.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",onChange:t=>i("setting->watermark->alpha",t.target.value),value:(me=(re=a.setting)==null?void 0:re.watermark)==null?void 0:me.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:((ce=a.setting)==null?void 0:ce.direction)==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"LTR"})}),value:"ltr"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"RTL"})}),value:"rtl"})]})}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${n(j.btn)} blue f-right`,type:"button",children:s("Update Template")})]})]})}const o={checkbox:{mt:10},font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20,b:"1px solid var(--white-0-89)",bs:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",brs:5}};export{We as default};
